
# ğŸ”– FundMe é¡¹ç›®å­¦ä¹ ç¬”è®°

## ğŸ§  æ ¸å¿ƒçŸ¥è¯†ç‚¹æ¦‚è§ˆ

* âœ… Solidity æ™ºèƒ½åˆçº¦å¼€å‘ï¼ˆFundMeã€åº“ã€ç»§æ‰¿ã€modifierï¼‰
* âœ… Chainlink é¢„è¨€æœºï¼ˆè·å– ETH/USD å®æ—¶ä»·æ ¼ï¼‰
* âœ… Hardhat éƒ¨ç½²ä¸æµ‹è¯•ï¼ˆå« mocks å’Œç½‘ç»œç¯å¢ƒåˆ¤æ–­ï¼‰
* âœ… JavaScript æµ‹è¯•è„šæœ¬ã€äº¤äº’è„šæœ¬
* âœ… æœ¬åœ°ã€æµ‹è¯•ç½‘ã€ä¸»ç½‘çš„å·®å¼‚é…ç½®
* âœ… é¡¹ç›®ç»“æ„æ¸…æ™°ï¼Œé€‚åˆå­¦ä¹  Web3 å…¨æµç¨‹å¼€å‘

---

## ğŸ“‚ contracts/FundMe.sol - ä¼—ç­¹ä¸»åˆçº¦

### çŠ¶æ€å˜é‡ï¼š

```solidity
address private immutable i_owner; // åˆçº¦æ‹¥æœ‰è€…åœ°å€ï¼Œéƒ¨ç½²åå›ºå®šä¸å˜
uint256 public constant MINIMUM_USD = 50 * 1e18; // æœ€ä½ææ¬¾é‡‘é¢ï¼ˆå•ä½ USDï¼‰
mapping(address => uint256) private s_addressToAmountFunded; // æ¯ä¸ªåœ°å€ææ¬¾é‡‘é¢
address[] private s_funders; // æ‰€æœ‰ææ¬¾è€…åœ°å€
AggregatorV3Interface private s_priceFeed; // Chainlink ETH/USD é¢„è¨€æœº
```

### æ„é€ å‡½æ•°ï¼š

```solidity
constructor(address priceFeedAddress) {
    i_owner = msg.sender;
    s_priceFeed = AggregatorV3Interface(priceFeedAddress);
}
```

### ä¸»è¦å‡½æ•°ï¼š

* `fund()`: æ¥æ”¶ ETHï¼Œè¦æ±‚é‡‘é¢æŠ˜ç®—åä¸å°‘äº MINIMUM\_USDã€‚
* `withdraw()`: ä»…æ‹¥æœ‰è€…å¯æå–æ‰€æœ‰èµ„é‡‘ï¼Œå¹¶æ¸…ç©ºè®°å½•ã€‚
* `cheaperWithdraw()`: æ›´èŠ‚çœ gas çš„ withdraw å®ç°ã€‚
* `getVersion()`: æŸ¥çœ‹é¢„è¨€æœºç‰ˆæœ¬ã€‚
* `getConversionRate()`: ETH â†’ USD çš„è½¬æ¢ã€‚
* Getter: å¦‚ `getFunder()`, `getOwner()`, `getAddressToAmountFunded()`ã€‚

### ä¿®é¥°å™¨ï¼š

```solidity
modifier onlyOwner {
    require(msg.sender == i_owner, "FundMe__NotOwner");
    _;
}
```

### ç‰¹æ®Šå‡½æ•°ï¼š

```solidity
receive() external payable {
    fund();
}

fallback() external payable {
    fund();
}
```

---

## ğŸ“‚ contracts/PriceConverter.sol - ä»·æ ¼è½¬æ¢åº“

### ä½¿ç”¨æ–¹å¼ï¼š

```solidity
using PriceConverter for uint256;
```

### æä¾›å‡½æ•°ï¼š

```solidity
function getPrice(...) returns (uint256); // è·å– ETH/USD ä»·æ ¼ï¼ˆæ¥è‡ª Chainlinkï¼‰

function getConversionRate(uint256 ethAmount, ...) returns (uint256);
// æŠŠ ethAmount è½¬æ¢æˆ USD é‡‘é¢
```

---

## ğŸ“‚ contracts/test/MockV3Aggregator.sol - æœ¬åœ°æ¨¡æ‹Ÿé¢„è¨€æœº

* æ¨¡æ‹Ÿ Chainlink AggregatorV3Interfaceï¼Œæä¾›ä»·æ ¼æ•°æ®ã€‚
* é€‚ç”¨äºæœ¬åœ°æµ‹è¯•ã€‚

---

## ğŸ“‚ deploy/00-deploy-mocks.js - æœ¬åœ°éƒ¨ç½²æ¨¡æ‹Ÿé¢„è¨€æœº

```js
if (developmentChains.includes(network.name)) {
    await deploy("MockV3Aggregator", ...);
}
```

* ä»…åœ¨ `localhost` æˆ– `hardhat` ç½‘ç»œæ—¶éƒ¨ç½²ã€‚
* ä½¿ç”¨ `DECIMALS` ä¸ `INITIAL_ANSWER` è®¾ç½®æ¨¡æ‹Ÿä»·æ ¼ï¼ˆå¦‚ 2000 ç¾å…ƒï¼‰ã€‚

---

## ğŸ“‚ deploy/01-deploy-fund-me.js - éƒ¨ç½²ä¸»åˆçº¦ FundMe

* è·å–å½“å‰ç½‘ç»œä½¿ç”¨çš„é¢„è¨€æœºåœ°å€ï¼ˆæœ¬åœ°ä½¿ç”¨ mocksï¼‰ã€‚
* éƒ¨ç½² FundMe åˆçº¦å¹¶ä¼ å…¥ä»·æ ¼é¢„è¨€æœºåœ°å€ã€‚

---

## ğŸ“‚ helper-hardhat-config.js - ç½‘ç»œé…ç½®æ–‡ä»¶

å®šä¹‰ï¼š

```js
const networkConfig = {
    31337: { name: "localhost", priceFeedAddress: ... },
    11155111: { name: "sepolia", priceFeedAddress: ... },
    ...
};
const developmentChains = ["hardhat", "localhost"];
```

ä½œç”¨ï¼š

* åˆ¤æ–­æ˜¯å¦æ˜¯æœ¬åœ°å¼€å‘ç½‘ç»œã€‚
* æä¾›ä¸åŒç½‘ç»œçš„ Chainlink åœ°å€ã€‚

---

## ğŸ“‚ hardhat.config.js - Hardhat é…ç½®æ–‡ä»¶

é…ç½®ï¼š

* Solidity ç¼–è¯‘å™¨ç‰ˆæœ¬
* ç½‘ç»œä¿¡æ¯ï¼ˆURLã€ç§é’¥ç­‰ï¼‰
* æ’ä»¶ï¼šå¦‚ `hardhat-deploy`, `gas-reporter`, `etherscan`

---

## ğŸ“‚ test/unit/FundMe.test.js - å•å…ƒæµ‹è¯•ï¼ˆæœ¬åœ°ï¼‰

æµ‹è¯•ç‚¹ï¼š

* æ„é€ å‡½æ•°æ˜¯å¦æ­£ç¡®è®¾ç½®é¢„è¨€æœºåœ°å€
* `fund()`ï¼š

  * é‡‘é¢ä¸è¶³æ—¶åº”å¤±è´¥
  * èƒ½æ›´æ–°æ˜ å°„
  * èƒ½æ·»åŠ ææ¬¾è€…
* `withdraw()`ï¼š

  * å•ä¸€ææ¬¾è€…æå–æˆåŠŸ
  * å¤šäººææ¬¾ä¹Ÿå¯ä¸€æ¬¡æ€§æå–ï¼ˆä½¿ç”¨ `cheaperWithdraw()`ï¼‰
  * ä»…æ‹¥æœ‰è€…èƒ½æå–

---

## ğŸ“‚ test/staging/FundMe.staging.test.js - å®ç½‘æµ‹è¯•ï¼ˆæµ‹è¯•ç½‘ï¼‰

åªåœ¨éå¼€å‘ç½‘ç»œè¿è¡Œï¼š

```js
!developmentChains.includes(network.name)
    ? describe(...)
    : describe.skip;
```

æµ‹è¯•ææ¬¾ä¸æå–åŠŸèƒ½åœ¨æµ‹è¯•ç½‘ä¸Šèƒ½å¦è¿è¡Œæ­£å¸¸ã€‚

---

## ğŸ“‚ scripts/fund.js & withdraw\.js - ä¸åˆçº¦äº¤äº’è„šæœ¬

* `fund.js`: ä½¿ç”¨ ethers.js å‘åˆçº¦å‘é€ ETHã€‚
* `withdraw.js`: è°ƒç”¨åˆçº¦æå–èµ„é‡‘ã€‚

---

## ğŸ“š æ€»ç»“å»ºè®®

| å­¦ä¹ æ–¹å‘          | å¯¹åº”æ–‡ä»¶                                      | å»ºè®®                              |
| ------------- | ----------------------------------------- | ------------------------------- |
| Solidity åŸºç¡€   | `FundMe.sol`, `PriceConverter.sol`        | ç†è§£ modifierã€libraryã€receive ç­‰ç‰¹æ€§ |
| Hardhat æµç¨‹    | `deploy/*.js`, `helper-hardhat-config.js` | ç†Ÿæ‚‰éƒ¨ç½²é€»è¾‘ã€ç¯å¢ƒåˆ¤æ–­                     |
| JavaScript æµ‹è¯• | `test/unit/*.test.js`                     | ç†Ÿæ‚‰æµ‹è¯•ç»“æ„ã€mock ä½¿ç”¨æ–¹å¼                |
| Chainlink ä½¿ç”¨  | `getPrice()`                              | äº†è§£é¢„è¨€æœºåŸç†åŠæ¥å£                      |
| å¤šç½‘ç»œéƒ¨ç½²ä¸æµ‹è¯•      | `hardhat.config.js` + `scripts/*.js`      | å­¦ä¼šé…ç½®å¤šç½‘ç»œã€éƒ¨ç½²ä¸»ç½‘/æµ‹è¯•ç½‘                |


